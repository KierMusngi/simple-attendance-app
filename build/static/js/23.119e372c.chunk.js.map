{"version":3,"sources":["ui-component/dataTable.js","views/users/index.js"],"names":["DataTable","props","rows","columns","style","height","width","pageSize","rowsPerPageOptions","checkboxSelection","UsersPage","useState","users","setUsers","hasLoaded","setHasLoaded","navigate","useNavigate","getUsers","a","axios","get","config","backendUri","then","res","data","map","u","push","id","_id","userName","name","role","useEffect","title","field","headerName","container","justifyContent","size","color","onClick"],"mappings":"+IACA,oBAiBeA,IAfG,SAACC,GACf,IAAQC,EAAkBD,EAAlBC,KAAMC,EAAYF,EAAZE,QAEd,OACI,qBAAKC,MAAO,CAAEC,OAAQ,IAAKC,MAAO,QAAlC,SACI,cAAC,IAAD,CAAUJ,KAAMA,EAAMC,QAASA,EAASI,SAAU,GAAIC,mBAAoB,CAAC,IAAKC,mBAAiB,Q,yKCuD9FC,UAtDG,WACd,MAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAAkCF,oBAAS,GAA3C,mBAAOG,EAAP,KAAkBC,EAAlB,KAEMC,EAAWC,cAEXC,EAAQ,uCAAG,sBAAAC,EAAA,sEACPC,IAAMC,IAAN,UAAaC,IAAOC,WAApB,WAAwCC,MAAK,SAACC,GAChD,IAAMb,EAAQ,GACda,EAAIC,KAAKC,KAAI,SAACC,GACVhB,EAAMiB,KAAK,CACPC,GAAIF,EAAEG,IACNC,SAAUJ,EAAEI,SACZC,KAAML,EAAEK,KACRC,KAAMN,EAAEM,UAGhBrB,EAASD,GACTG,GAAa,MAZJ,2CAAH,qDAgBdoB,qBAAU,WACNpB,GAAa,GACbG,MACD,IASH,OACI,eAAC,IAAD,CAAUkB,MAAM,QAAhB,UACKtB,GAAa,cAAC,IAAD,CAAWZ,KAAMU,EAAOT,QAT9B,CACZ,CAAEkC,MAAO,KAAMC,WAAY,KAAMhC,MAAO,KACxC,CAAE+B,MAAO,WAAYC,WAAY,WAAYhC,MAAO,KACpD,CAAE+B,MAAO,OAAQC,WAAY,OAAQhC,MAAO,KAC5C,CAAE+B,MAAO,OAAQC,WAAY,OAAQhC,MAAO,QAMxC,uBACA,cAAC,IAAD,CAAMiC,WAAS,EAACC,eAAe,WAA/B,SACI,cAAC,IAAD,CACI,aAAW,MACXC,KAAK,QACLC,MAAM,UACNC,QAAS,WACL3B,EAAS,kBALjB,SAQI,cAAC,IAAD","file":"static/js/23.119e372c.chunk.js","sourcesContent":["import PropTypes from 'prop-types';\r\nimport { DataGrid } from '@mui/x-data-grid';\r\n\r\nconst DataTable = (props) => {\r\n    const { rows, columns } = props;\r\n\r\n    return (\r\n        <div style={{ height: 660, width: '100%' }}>\r\n            <DataGrid rows={rows} columns={columns} pageSize={10} rowsPerPageOptions={[10]} checkboxSelection />\r\n        </div>\r\n    );\r\n};\r\n\r\nDataTable.propTypes = {\r\n    rows: PropTypes.array,\r\n    columns: PropTypes.array\r\n};\r\n\r\nexport default DataTable;\r\n","import { useEffect, useState } from 'react';\r\nimport MainCard from 'ui-component/cards/MainCard';\r\nimport DataTable from '../../ui-component/dataTable';\r\nimport { IconButton, Grid } from '@mui/material';\r\nimport { IconPlus } from '@tabler/icons';\r\nimport { useNavigate } from 'react-router';\r\nimport axios from 'axios';\r\nimport config from 'config';\r\n\r\nconst UsersPage = () => {\r\n    const [users, setUsers] = useState([]);\r\n    const [hasLoaded, setHasLoaded] = useState(false);\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const getUsers = async () => {\r\n        await axios.get(`${config.backendUri}/users`).then((res) => {\r\n            const users = [];\r\n            res.data.map((u) => {\r\n                users.push({\r\n                    id: u._id,\r\n                    userName: u.userName,\r\n                    name: u.name,\r\n                    role: u.role\r\n                });\r\n            });\r\n            setUsers(users);\r\n            setHasLoaded(true);\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        setHasLoaded(false);\r\n        getUsers();\r\n    }, []);\r\n\r\n    const columns = [\r\n        { field: 'id', headerName: 'Id', width: 300 },\r\n        { field: 'userName', headerName: 'Username', width: 300 },\r\n        { field: 'name', headerName: 'Name', width: 300 },\r\n        { field: 'role', headerName: 'Role', width: 300 }\r\n    ];\r\n\r\n    return (\r\n        <MainCard title=\"Users\">\r\n            {hasLoaded && <DataTable rows={users} columns={columns} />}\r\n            <br />\r\n            <Grid container justifyContent=\"flex-end\">\r\n                <IconButton\r\n                    aria-label=\"add\"\r\n                    size=\"large\"\r\n                    color=\"primary\"\r\n                    onClick={() => {\r\n                        navigate('/users/create');\r\n                    }}\r\n                >\r\n                    <IconPlus />\r\n                </IconButton>\r\n            </Grid>\r\n        </MainCard>\r\n    );\r\n};\r\n\r\nexport default UsersPage;\r\n"],"sourceRoot":""}